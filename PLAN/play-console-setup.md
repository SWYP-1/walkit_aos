# Google Play Console 설정 가이드

## 구매 ID를 받아오기까지 구현 완료

코드 구현은 완료되었습니다. 이제 Google Play Console에서 설정해야 할 사항들을 정리합니다.

## 1. Google Play Console 접속

1. [Google Play Console](https://play.google.com/console) 접속
2. 앱 선택 (또는 새 앱 생성)

## 2. 앱 서명 키 확인

### 현재 앱의 서명 키 해시 확인
```bash
# 디버그 키스토어 (개발용)
keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android

# 릴리즈 키스토어 (배포용)
keytool -list -v -keystore [키스토어 경로] -alias [앨리어스]
```

**중요**: 릴리즈 빌드 배포 시에는 릴리즈 키스토어의 SHA-1, SHA-256 해시를 사용해야 합니다.

## 3. 인앱 제품 생성

### 3.1 인앱 제품 메뉴로 이동
1. Google Play Console → 앱 선택
2. 왼쪽 메뉴에서 **수익 창출** → **인앱 제품** 선택
3. **제품 생성** 클릭

### 3.2 제품 정보 입력

각 아이템에 대해 다음 정보를 입력합니다:

#### 예시: 신발 01
- **제품 ID**: `shoes_01` (코드의 productId와 정확히 일치해야 함)
- **이름**: 기본 신발
- **설명**: 기본 신발입니다
- **가격**: ₩1,000 (또는 원하는 가격)
- **상태**: 활성

#### 예시: 신발 02
- **제품 ID**: `shoes_02`
- **이름**: 고급 신발
- **설명**: 고급 신발입니다
- **가격**: ₩2,000
- **상태**: 활성

#### 예시: 모자 01
- **제품 ID**: `hat_01`
- **이름**: 기본 모자
- **설명**: 기본 모자입니다
- **가격**: ₩1,000
- **상태**: 활성

#### 예시: 장갑 01
- **제품 ID**: `gloves_01`
- **이름**: 기본 장갑
- **설명**: 기본 장갑입니다
- **가격**: ₩1,000
- **상태**: 활성

#### 예시: 목걸이 01
- **제품 ID**: `necklace_01`
- **이름**: 기본 목걸이
- **설명**: 기본 목걸이입니다
- **가격**: ₩1,000
- **상태**: 활성

### 3.3 제품 타입 선택
- **소모성 제품** 선택 (Consumable)
- 캐릭터 커스터마이징 아이템은 여러 번 구매 가능하므로 소모성 제품으로 설정

## 4. 테스트 계정 설정

### 4.1 라이선스 테스트 사용자 추가
1. Google Play Console → **설정** → **라이선스 테스트**
2. **라이선스 테스트 사용자** 섹션에서 **이메일 주소 추가**
3. 테스트할 Gmail 계정 추가 (여러 개 추가 가능)

**중요**: 
- 테스트 계정으로 로그인한 기기에서만 테스트 구매가 가능합니다
- 실제 결제가 발생하지 않습니다 (테스트 구매)

## 5. 앱 내부 트랙 설정 (선택사항)

### 5.1 내부 테스트 트랙 생성
1. Google Play Console → **출시** → **테스트** → **내부 테스트**
2. **새 출시 만들기** 클릭
3. APK 또는 AAB 업로드
4. 테스트 사용자 추가

**참고**: 내부 테스트 트랙을 사용하면 실제 구매 테스트가 가능합니다.

## 6. 구매 테스트

### 6.1 테스트 환경 확인
- 테스트 계정으로 로그인한 기기에서 앱 실행
- 상점 화면에서 아이템 구매 시도
- Google Play 결제 화면이 표시되어야 함

### 6.2 테스트 구매
- 테스트 구매는 실제 결제가 발생하지 않음
- 구매 완료 후 앱에서 구매 내역 확인 가능
- 구매 취소도 가능

## 7. 제품 ID 확인

### 현재 코드에 하드코딩된 제품 ID 목록
```kotlin
// CosmeticItemRepositoryImpl.kt
- shoes_01
- shoes_02
- hat_01
- gloves_01
- necklace_01
```

**중요**: Google Play Console에서 생성한 제품 ID가 코드의 productId와 정확히 일치해야 합니다!

## 8. 체크리스트

### 필수 설정
- [ ] Google Play Console 접속
- [ ] 인앱 제품 생성 (5개)
  - [ ] shoes_01
  - [ ] shoes_02
  - [ ] hat_01
  - [ ] gloves_01
  - [ ] necklace_01
- [ ] 제품 타입: 소모성 제품 선택
- [ ] 라이선스 테스트 사용자 추가
- [ ] 앱 빌드 및 테스트

### 선택 설정
- [ ] 내부 테스트 트랙 설정
- [ ] 추가 제품 생성 (필요시)

## 9. 주의사항

### 제품 ID 일치
- 코드의 `productId`와 Google Play Console의 제품 ID가 정확히 일치해야 합니다
- 대소문자 구분됩니다

### 테스트 계정
- 테스트 구매는 라이선스 테스트 사용자로 로그인한 기기에서만 가능합니다
- 실제 결제가 발생하지 않습니다

### 앱 서명
- 릴리즈 빌드 배포 시에는 릴리즈 키스토어를 사용해야 합니다
- 디버그 빌드는 디버그 키스토어를 사용합니다

## 10. 다음 단계

구매 ID를 받아오는 것까지 구현이 완료되었습니다. 다음 단계:

1. **이미지 파일 로딩 구현** (다음 작업)
   - Firebase Storage 연동
   - Signed URL 생성 및 관리
   - CharacterView 구현

2. **서버 API 연동** (향후)
   - 구매 검증 API
   - 리소스 URL 제공 API

3. **추가 기능**
   - 아이템 적용/제거 UI
   - 캐릭터 커스터마이징 화면

## 참고 링크

- [Google Play Billing 문서](https://developer.android.com/google/play/billing)
- [인앱 제품 관리](https://support.google.com/googleplay/android-developer/answer/1153481)
- [라이선스 테스트](https://support.google.com/googleplay/android-developer/answer/6062777)











